<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>LC: 1004 - Thejazeto Lhousa</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="I was trying to solve this leetcode problem and had to refer the solutions after some minutes attempting it. Then came across this super simple ingenious solution. Took a lot of time trying to wrap my head around it. So I thought I&rsquo;d just share my thought process was like trying to digest this super simple looking yet miraculous code:
Max consecutive ones iii
Link: https://leetcode.com/problems/max-consecutive-ones-iii

Note: you&rsquo;ll need basic understanding of what this problem is asking for and may a preliminary very high level overview of the code flow"><meta property="og:image" content><meta property="og:url" content="/posts/lc-1004/"><meta property="og:site_name" content="Thejazeto Lhousa"><meta property="og:title" content="LC: 1004"><meta property="og:description" content="I was trying to solve this leetcode problem and had to refer the solutions after some minutes attempting it. Then came across this super simple ingenious solution. Took a lot of time trying to wrap my head around it. So I thought I’d just share my thought process was like trying to digest this super simple looking yet miraculous code:
Max consecutive ones iii Link: https://leetcode.com/problems/max-consecutive-ones-iii
Note: you’ll need basic understanding of what this problem is asking for and may a preliminary very high level overview of the code flow"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-08-09T23:52:13+05:30"><meta property="article:modified_time" content="2024-08-09T23:52:13+05:30"><meta property="article:tag" content="Leetcode"><meta name=twitter:card content="summary"><meta name=twitter:title content="LC: 1004"><meta name=twitter:description content="I was trying to solve this leetcode problem and had to refer the solutions after some minutes attempting it. Then came across this super simple ingenious solution. Took a lot of time trying to wrap my head around it. So I thought I’d just share my thought process was like trying to digest this super simple looking yet miraculous code:
Max consecutive ones iii Link: https://leetcode.com/problems/max-consecutive-ones-iii
Note: you’ll need basic understanding of what this problem is asking for and may a preliminary very high level overview of the code flow"><script src=/js/feather.min.js></script><link href=/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=/css/main.5cebd7d4fb2b97856af8d32a6def16164fcf7d844e98e236fcb3559655020373.css><link id=darkModeStyle rel=stylesheet type=text/css href=/css/dark.d22e2a2879d933a4b781535fc4c4c716e9f9d35ea4986dd0cbabda82effc4bdd.css media="(prefers-color-scheme: dark)"><link rel=stylesheet type=text/css href=/css/syntax.307ea28af3c792131fb03d0ccf1cc452b9bc56819282ddb250ec854b7fe6c459.css></head><body><div class=content><header><div class=main><a href=/>Thejazeto Lhousa</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/about>About</a></nav></header><main><article><div class=title><h1 class=title>LC: 1004</h1><div class=meta>Posted on Aug 9, 2024</div></div><section class=body><p>I was trying to solve this leetcode problem and had to refer the solutions after some minutes attempting it. Then came across this super simple ingenious solution. Took a lot of time trying to wrap my head around it. So I thought I&rsquo;d just share my thought process was like trying to digest this super simple looking yet miraculous code:</p><h3 id=max-consecutive-ones-iii>Max consecutive ones iii</h3><p>Link: <a href=https://leetcode.com/problems/max-consecutive-ones-iii>https://leetcode.com/problems/max-consecutive-ones-iii</a></p><blockquote><p>Note: you&rsquo;ll need basic understanding of what this problem is asking for and may a preliminary very high level overview of the code flow</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>longestOnes</span>(self, nums: List[int], k: int) <span style=color:#f92672>-&gt;</span> int:
</span></span><span style=display:flex><span>        left <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        right <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> right<span style=color:#f92672>&lt;</span>len(nums):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> nums[right] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>                k <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> k<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> nums[left] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>                    k <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                left <span style=color:#f92672>+=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            right <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> right<span style=color:#f92672>-</span>left
</span></span></code></pre></div><p>Q. How does left catch up to the next 0 if there are lots of 1 in between without impacting what right is covering?</p><ul><li>Say <code>1101111001111111</code> with <code>k=1</code></li><li>The distance covered by <code>right</code> is all valid max window up until we go below k when we have to shrink window by increasing <code>left</code>. Concern I had was how <code>left</code> would even catch up if we increment both <code>right</code> and <code>left</code> together (<code>left</code> never increments alone).<ul><li>Window expands to a max valid and may expand more but will be invalid size</li><li>Window can then shrink again but it will never go smaller than the max valid attained</li></ul></li><li>So the logic here is that there is no need for <code>left</code> to catch up to close the gap ever gain because it&rsquo;s of no use since the valid max window attained if it grows will only record a bigger window for us. If it shrinks it only shrinks the inflated invalid window size and stops at the valid size.</li><li>This window may move to another spot with invalid 0-1 combinations but that&rsquo;s also not a concern. If there&rsquo;s any bigger valid window then things will fix again.</li></ul><h5 id=1101111001111111-left0-right7>(1)101111(0)01111111: left=0, right=7</h5><ul><li>pretty straight foward till this point</li><li><code>k</code> reduces to <code>k=-1</code></li><li>since <code>k&lt;0</code> the window from left will have to shrink<ul><li><code>left++ => 1</code></li></ul></li><li>end loop with <code>right++ => 9</code></li></ul><h5 id=1101111001111111-left1-right9>1(1)011110(0)1111111: left=1, right=9</h5><ul><li><code>k</code> reduces further to <code>k=-2</code></li><li><code>k&lt;0</code> so <code>left++ => 2</code></li><li>end loop with <code>right++ => 10</code></li></ul><h5 id=1101111001111111-left2-right10>11(0)111100(1)111111: left=2, right=10</h5><ul><li>at this point <code>k=-2</code> and <code>left=2</code></li><li><code>k&lt;0</code> and also <code>nums[left]==0</code><ul><li>so <code>k++ => -1</code></li><li><code>left++ => 3</code></li></ul></li><li>end loop with <code>right++ => 9</code></li></ul><h5 id=1101111001111111-left3-right9>110(1)11100(1)111111: left=3, right=9</h5><ul><li>at this point <code>k=-1</code></li><li><code>k&lt;0</code><ul><li><code>left++ => 4</code></li></ul></li><li>end loop with <code>right++ => 10</code></li></ul><h5 id=1101111001111111>1101(1)11001(1)11111</h5><p><code>left++ => 5</code> and <code>right++ => 11</code></p><h5 id=1101111001111111-1>11011(1)10011(1)1111</h5><p><code>left++ => 6</code> and <code>right++ => 12</code></p><h5 id=1101111001111111-2>110111(1)00111(1)111</h5><p><code>left++ => 7</code> and <code>right++ => 13</code></p><h5 id=1101111001111111-3>1101111(0)01111(1)11</h5><ul><li><code>k=-1</code></li><li><code>k&lt;0</code><ul><li><code>k++ => 0</code></li><li><code>left++ => 8</code>
<code>left++ => 8</code> and <code>right++ => 14</code></li></ul></li></ul><h5 id=1101111001111111-4>11011110(0)11111(1)1</h5><ul><li><code>k=0</code></li><li>so no <code>left</code> window shrinking, keep expanding on right until below k-quota again</li><li><code>right++ => 15</code></li></ul><h5 id=1101111001111111-5>11011110(0)111111(1)</h5><ul><li><code>k=0</code></li><li><code>right++ => 16</code></li><li>right is now exhausted and we exit the loop</li></ul><h5 id=conclusion>Conclusion</h5><p>Now we calculate the max window size attained: <code>right-left</code> (no +1 since right is an out of boundary index)</p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/leetcode>leetcode</a></li></ul></nav></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/zetolhousa rel=me title=GitHub><i data-feather=github></i></a>
<a class=border></a><a class=soc href=https://twitter.com/thejazeto/ rel=me title=Twitter><i data-feather=twitter></i></a>
<a class=border></a><a class=soc href=https://www.linkedin.com/in/thejazeto/ rel=me title=LinkedIn><i data-feather=linkedin></i></a>
<a class=border></a></div><div class=footer-info>2024 ©thejazeto | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEHSFWY6K9"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-KEHSFWY6K9")}</script><script>feather.replace()</script></div></body></html>