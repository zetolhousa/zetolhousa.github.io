<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>My Dev Journal V3 - Thejazeto Lhousa</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="
Refer blogs for v1 and v2 for more history about this


And here&rsquo;s a reminder on how important it is to document: https://jvns.ca/blog/brag-documents/

Dev journal v2 has done a pretty good job for me. I recently also added a functionality on my windows laptop to sync it up to a cloud storage (onedrive) via a windows automation scheduler called &ldquo;Task Scheduler&rdquo; at regular intervals of the day. I gotta say it&rsquo;s pretty neat feature which I didn&rsquo;t know about."><meta property="og:image" content><meta property="og:url" content="/posts/my-dev-journal-v3/"><meta property="og:site_name" content="Thejazeto Lhousa"><meta property="og:title" content="My Dev Journal V3"><meta property="og:description" content="Refer blogs for v1 and v2 for more history about this
And here’s a reminder on how important it is to document: https://jvns.ca/blog/brag-documents/
Dev journal v2 has done a pretty good job for me. I recently also added a functionality on my windows laptop to sync it up to a cloud storage (onedrive) via a windows automation scheduler called “Task Scheduler” at regular intervals of the day. I gotta say it’s pretty neat feature which I didn’t know about."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-26T03:40:55+05:30"><meta property="article:modified_time" content="2024-10-26T03:40:55+05:30"><meta property="article:tag" content="Productivity"><meta name=twitter:card content="summary"><meta name=twitter:title content="My Dev Journal V3"><meta name=twitter:description content="Refer blogs for v1 and v2 for more history about this
And here’s a reminder on how important it is to document: https://jvns.ca/blog/brag-documents/
Dev journal v2 has done a pretty good job for me. I recently also added a functionality on my windows laptop to sync it up to a cloud storage (onedrive) via a windows automation scheduler called “Task Scheduler” at regular intervals of the day. I gotta say it’s pretty neat feature which I didn’t know about."><script src=/js/feather.min.js></script><link href=/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=/css/main.5cebd7d4fb2b97856af8d32a6def16164fcf7d844e98e236fcb3559655020373.css><link id=darkModeStyle rel=stylesheet type=text/css href=/css/dark.d22e2a2879d933a4b781535fc4c4c716e9f9d35ea4986dd0cbabda82effc4bdd.css media="(prefers-color-scheme: dark)"><link rel=stylesheet type=text/css href=/css/syntax.307ea28af3c792131fb03d0ccf1cc452b9bc56819282ddb250ec854b7fe6c459.css></head><body><div class=content><header><div class=main><a href=/>Thejazeto Lhousa</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/about>About</a></nav></header><main><article><div class=title><h1 class=title>My Dev Journal V3</h1><div class=meta>Posted on Oct 26, 2024</div></div><section class=body><blockquote><p>Refer blogs for <a href=https://www.thejazeto.com/posts/my-dev-journal/>v1</a> and <a href=https://www.thejazeto.com/posts/my-dev-journal-v2/>v2</a> for more history about this</p></blockquote><blockquote><p>And here&rsquo;s a reminder on how important it is to document: <a href=https://jvns.ca/blog/brag-documents/>https://jvns.ca/blog/brag-documents/</a></p></blockquote><p>Dev journal v2 has done a pretty good job for me. I recently also added a functionality on my windows laptop to sync it up to a cloud storage (onedrive) via a windows automation scheduler called &ldquo;Task Scheduler&rdquo; at regular intervals of the day. I gotta say it&rsquo;s pretty neat feature which I didn&rsquo;t know about.</p><p>After a while of using onedrive I moved to using icloud after installing the icloud client on my windows laptop. I came to learn that icloud has been getting a lot of hate due to it&rsquo;s inconsistency. Files getting deleted at random and wiping out complete directories for no reason. It was a risk I took. Now I had the journals accessible on my mac. The only issue here was that the sync happens at fixed schedules (3hrs apart) and if the laptop goes offline before the next schedule then the changes which I added never reaches icloud and what I see on my mac or iphone is outdated data.</p><p>On top of all that the sync was one way. I make changes on windows and view on mac or iphone. Given the unreliability of these file storage providers I could not risk trying to make it two-way without knowing which write takes priority over the other. I guess windows and apple chose availability at the price of consistency, very weak consistency.</p><p>Anyway it was at this time when I slowly started to move back to my mac as primary laptop. But because of the dev journal workflow right now I wasn&rsquo;t logging in as regularly. I started exploring other ideas. Using git stood out so I sat down and revamped my workflow to integrate with git one evening.</p><p>The new worklow would now use a remote private git repo to write into every time I submitted a &ldquo;clog&rdquo;. And of course to make sure to avoid conflicts I added a pull before every push action.</p><h2 id=using-git-to-store-and-sync-journal-logs>Using git to store and sync journal logs</h2><h3 id=what-hasnt-changed>What hasn&rsquo;t changed</h3><p>The day and month header update script hasn&rsquo;t changed except some minor tweaks in getting paths.</p><p>Recap of what it does: This script checks your dev journal file to see if todays day header has been added already. If not then add new day. If it&rsquo;s a new month it also add the month header.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e># Path to your notes file</span>
</span></span><span style=display:flex><span>NOTES_PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>dirname $0<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>NOTES_FILE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$NOTES_PATH<span style=color:#e6db74>/daily_log.md&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Get the current date and time</span>
</span></span><span style=display:flex><span>CURRENT_DATE<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>date +<span style=color:#e6db74>&#34;%d %A (%Y%m%d)&#34;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>CURRENT_MONTH<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>date +<span style=color:#e6db74>&#34;%B %Y&#34;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Check if the current month title is present in the file</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> ! grep -q <span style=color:#e6db74>&#34;^# </span>$CURRENT_MONTH<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span>$NOTES_FILE<span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    echo -e <span style=color:#e6db74>&#34;\n---\n\n# </span>$CURRENT_MONTH<span style=color:#e6db74>&#34;</span> &gt;&gt; <span style=color:#e6db74>&#34;</span>$NOTES_FILE<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Updated month heading&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Check if the current day title is present in the file</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> ! grep -q <span style=color:#e6db74>&#34;^## </span>$CURRENT_DATE<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span>$NOTES_FILE<span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    echo -e <span style=color:#e6db74>&#34;\n## </span>$CURRENT_DATE<span style=color:#e6db74>&#34;</span> &gt;&gt; <span style=color:#e6db74>&#34;</span>$NOTES_FILE<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Updated day heading&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span></code></pre></div><h3 id=change-1-clog-alias-logic-extracted-out-to-a-shell-script>change-1: <code>clog</code> alias logic extracted out to a shell script</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e># Define paths</span>
</span></span><span style=display:flex><span>REPO_PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>dirname $0<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>NOTES_FILE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$REPO_PATH<span style=color:#e6db74>/daily_log.md&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;Daily log repo path: </span>$REPO_PATH<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Define functions for each step</span>
</span></span><span style=display:flex><span>pull_notes<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    git -C <span style=color:#e6db74>&#34;</span>$REPO_PATH<span style=color:#e6db74>&#34;</span> pull --quiet origin main
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Updates the headers (month or day)</span>
</span></span><span style=display:flex><span>update_headers<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    $REPO_PATH/update_headers.sh
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>add_log_entry<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;- **</span><span style=color:#66d9ef>$(</span>date +<span style=color:#e6db74>&#34;%I:%M%p&#34;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>** </span>$1<span style=color:#e6db74>&#34;</span> &gt;&gt; <span style=color:#e6db74>&#34;</span>$NOTES_FILE<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit_notes<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    git -C <span style=color:#e6db74>&#34;</span>$REPO_PATH<span style=color:#e6db74>&#34;</span> add <span style=color:#e6db74>&#34;</span>$NOTES_FILE<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    git -C <span style=color:#e6db74>&#34;</span>$REPO_PATH<span style=color:#e6db74>&#34;</span> commit -m <span style=color:#e6db74>&#34;Log entry update on </span><span style=color:#66d9ef>$(</span>date +<span style=color:#e6db74>&#34;%Y-%m-%d %H:%M:%S&#34;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>push_notes<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    git -C <span style=color:#e6db74>&#34;</span>$REPO_PATH<span style=color:#e6db74>&#34;</span> push --quiet origin main
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Run each step in sequence</span>
</span></span><span style=display:flex><span>pull_notes
</span></span><span style=display:flex><span>update_headers
</span></span><span style=display:flex><span>add_log_entry <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>commit_notes
</span></span><span style=display:flex><span>push_notes
</span></span></code></pre></div><p>This is where the bulk of the work is done. Pretty straight forward. Bunch of git operations but I think it&rsquo;s safe to assume that interruptions between these will be super rare. Assuming this is a personal dev log and you are the sole author, you&rsquo;ll only ever be on one computer at a single instance of time. So no git related conflicts should happen. If it does happen even the manual interventions should be simple to fix.</p><h3 id=change-2-bash-aliases>change-2: Bash aliases</h3><p>The bash aliases are now way simpler with the weight now carried by the shell scripts. Love this change.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>DEVLOG_REPO<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;&lt;path to devlog.git repo&gt;&#39;</span>
</span></span><span style=display:flex><span>alias slog<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bat -p --theme=ansi $DEVLOG_REPO/dev_log.md&#39;</span>
</span></span><span style=display:flex><span>alias clog<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;$DEVLOG_REPO/clog.sh $1&#39;</span>
</span></span></code></pre></div><h3 id=wrapping-up>Wrapping up</h3><p>This version is probably going to stay for a while I think. IMO a massive jump from previous versions. Now I can pull the repo from anywhere. All I need to do is set up the aliases and that&rsquo;s it. The repo is self contained comes bundled with the scripts and the dev journal file.</p><h2 id=conclusion>Conclusion</h2><ul><li>Ability to add logs from any system</li><li>Simpler setup. Moving to a new computer and logging is super simple.</li><li>Very reliable consistent storage</li><li>Versioning and history of changes (if you need) via git commits</li></ul><h3 id=open-issues>Open issues</h3><ul><li>How to keep record of logs when laptop is offline (no access to git)</li><li>How to reduce number of git push and pull (maybe batch somehow?)</li></ul></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/productivity>productivity</a></li></ul></nav></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/zetolhousa rel=me title=GitHub><i data-feather=github></i></a>
<a class=border></a><a class=soc href=https://twitter.com/thejazeto/ rel=me title=Twitter><i data-feather=twitter></i></a>
<a class=border></a><a class=soc href=https://www.linkedin.com/in/thejazeto/ rel=me title=LinkedIn><i data-feather=linkedin></i></a>
<a class=border></a></div><div class=footer-info>2024 ©thejazeto | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEHSFWY6K9"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-KEHSFWY6K9")}</script><script>feather.replace()</script></div></body></html>